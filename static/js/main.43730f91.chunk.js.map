{"version":3,"sources":["components/Nav/Nav.module.css","components/Main/Profile/Avatar/Avatar.module.css","components/Main/Profile/Friends/Friends.module.css","components/Main/Profile/Profile.module.css","Img/preloader.svg","components/common/Preloader.module.css","components/Main/News/News.module.css","components/Main/Music/Music.module.css","components/Main/Settings/Settings.module.css","components/Main/Dialogs/Message/Message.module.css","components/Main/Dialogs/Message/Form/Form.module.css","components/Main/Users/Users.module.css","components/FormControlers/FormComponents.module.css","components/Header/Header.module.css","components/Nav/Nav.jsx","components/Nav/NavContainer.jsx","components/FormControlers/FormComponents.jsx","components/Validation/validators.js","components/common/FieldCreator.jsx","components/Main/Profile/Posts/Posts.jsx","components/Main/Profile/Posts/Post/Post.jsx","components/api/api.js","redux/ProfileReducer.jsx","components/Main/Profile/Posts/PostsContainer.jsx","components/Main/Profile/Avatar/Avatar.jsx","components/Main/Profile/Friends/Friend/Friend.jsx","components/Main/Profile/Friends/Friends.jsx","components/Main/Profile/Friends/FriendsContainer.jsx","components/Main/Profile/Info/statusNew.jsx","components/Main/Profile/Info/Info.jsx","components/Main/Profile/Profile.jsx","components/common/Preloader.jsx","components/hoc/WithAuthRedirect.jsx","components/Main/Profile/ProfileContainer.jsx","components/Main/News/News.jsx","components/Main/Music/Music.jsx","components/Main/Settings/Settings.jsx","components/Main/Dialogs/DialogsItem/DialogsItem.jsx","components/Main/Dialogs/Message/Message.jsx","redux/DialogReducer.jsx","components/Main/Dialogs/Message/Form/Form.jsx","components/Main/Dialogs/Message/Form/FormContainer.jsx","components/Main/Dialogs/Dialogs.jsx","components/Main/Dialogs/DialogsContainer.jsx","redux/UsersReducer.jsx","components/Main/Users/User/User.jsx","components/common/Paginator/Paginator.js","components/Main/Users/Users.jsx","components/Main/Users/UsersContainer.jsx","redux/AuthReducer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/AppReducer.jsx","App.js","redux/redux-store.js","serviceWorker.js","index.js","components/Main/Profile/Posts/Post/Post.module.css","Img/User.jpg","components/Main/Profile/Info/Info.module.css","components/Main/Users/User/User.module.css","components/Main/Profile/Friends/Friend/Friend.module.css","components/common/Paginator/Paginator.module.css","components/Login/Login.module.css","components/Main/Dialogs/DialogsItem/DialogsItem.module.css","components/Main/Dialogs/Dialogs.module.css"],"names":["module","exports","Nav","props","className","styles","nav","to","id","activeClassName","active","item","connect","state","Auth","Textarea","input","meta","withError","touched","error","formT","textarea","button","disabled","Input","formI","login","required","value","undefined","trim","maxlength","length","maxlength16","email","test","FieldCreator","type","name","placeholder","component","validate","Field","PostReduxForm","reduxForm","form","onSubmit","handleSubmit","Posts","formData","addPost","post","console","log","PostElements","Post","title","src","avatar","alt","content","message","like","like_counter","instance","axios","withCredentials","baseURL","headers","UsersApi","currentPage","pageSize","get","then","response","data","FollowApi","delete","AuthApi","password","rememberMe","ProfileApi","status","put","initialState","ProfileData","PostsData","second__name","FriendsData","isFetching","setStatus","profileReducer","action","newPost","text","Userlogo","profile","PostsContainer","profilePage","map","p","key","reverse","newPostText","dispatch","AddPostActionCreator","Avatar","UserPhoto","Friend","friend","img","Friends","friends","FriendsElement","FriendsContainer","StatusWithHooks","useState","editMode","setEditMode","useEffect","SetEditMode","updateUserStatus","onDoubleClick","autoFocus","onChange","e","currentTarget","onBlur","Info","info","fullName","Profile","photos","large","Preloader","preloader","mapStateToProps","isAuth","auth","WithAuthRedirect","Component","RedirectedComponent","this","React","ProfileContainer","userId","match","params","getUsersProfile","getUserStatus","compose","a","async","withRouter","News","news","music","settings","DialogsItem","path","dialog_list_item","Message","massages_list_item","MessagesData","usersData","newMessageText","dialogReducer","MessageReduxForm","Form","AddMessage","FormContainer","AddMessageActionCreator","Dialogs","dialogs","dialog_list","DialogsItems","massages_list","Messages","dialogsPage","u","m","totalCount","following","follow","UserId","unfollow","setUsers","Users","setCurrentPage","setTotalCount","followingInProgress","UsersReducer","followed","filter","User","t","unfollowThunk","followThunk","bstyle","user","some","onClick","Pagination","blokNumber","setBlokNumber","Math","ceil","blokSize","PagesCount","pages","i","push","leftbar","rightbar","Paginator","activePage","Page","btn","small","users","UsersContainer","getUsers","isFetch","usersPage","items","resultCode","AuthThunk","Logout","AuthReducer","Header","header","header__logo","header__logo_img","header_login","header_form","photo","LogoutThunk","HeaderContainer","LoginReduxForm","LoginThunk","stopSubmit","_error","messages","pop","loginPage","initial","initialize","AppReducer","App","InitThunk","NavContainer","render","DialogsContainer","Music","Settings","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunk","window","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","basename","process","document","getElementById","URL","href","origin","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.43730f91.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1zEbn\",\"item\":\"Nav_item__ZiOEo\",\"active\":\"Nav_active__3ierU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__3lGmW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__3iyNf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__cRCcr\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.1d15156b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Preloader_img__fytGA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__rbSKX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__3XjOF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__1oLhY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"massages_list\":\"Message_massages_list__j7NPe\",\"massages_list_item\":\"Message_massages_list_item__2kEcI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__1PmA0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__34v6w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formT\":\"FormComponents_formT__108Ew\",\"formI\":\"FormComponents_formI__xWAEy\",\"button\":\"FormComponents_button__1Dkzz\",\"textarea\":\"FormComponents_textarea__1eujI\",\"withError\":\"FormComponents_withError__GMOoi\",\"error\":\"FormComponents_error__2hxPx\",\"login\":\"FormComponents_login__1aYpJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3G4xP\",\"header__logo\":\"Header_header__logo__3I_Fy\",\"header__logo_img\":\"Header_header__logo_img__3s7D7\",\"rotate\":\"Header_rotate__2K5MM\",\"header_user_info\":\"Header_header_user_info__2jfl0\",\"header_login\":\"Header_header_login__2By-n\",\"header_form\":\"Header_header_form__2YPND\",\"login\":\"Header_login__2PZ-B\",\"photo\":\"Header_photo__22GxG\",\"button\":\"Header_button__3zTjO\"};","import React from 'react';\r\nimport styles from './Nav.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nconst Nav = (props) => { \r\n \r\n    return <div className={styles.nav}>\r\n    <ul>\r\n        <li>\r\n        <NavLink to={`/profile/${props.id}`} activeClassName={styles.active}>\r\n        <div className={styles.item}>\r\n          Profile\r\n        </div>\r\n        </NavLink>\r\n        </li>\r\n\r\n        <li>\r\n        <NavLink to=\"/dialogs\" activeClassName={styles.active}>\r\n        <div className={styles.item}>\r\n          Dialogs\r\n        </div>\r\n        </NavLink>\r\n        </li>\r\n\r\n        <li>\r\n        <NavLink to=\"/users\" activeClassName={styles.active}>\r\n        <div className={styles.item}>\r\n          Users\r\n        </div>\r\n        </NavLink>\r\n        </li>\r\n\r\n        <li>\r\n        <NavLink to=\"/news\" activeClassName={styles.active}>\r\n        <div className={styles.item}>\r\n          News\r\n        </div>\r\n        </NavLink>\r\n        </li>\r\n\r\n        <li>\r\n        <NavLink to=\"/music\" activeClassName={styles.active}>\r\n        <div className={styles.item}>\r\n          Music\r\n        </div>\r\n        </NavLink>\r\n        </li>\r\n        <li>\r\n        <NavLink to=\"/settings\" activeClassName={styles.active}>\r\n        <div className={styles.item}>\r\n          Settings\r\n        </div>\r\n        </NavLink>\r\n        </li>\r\n    </ul>\r\n    </div>\r\n}\r\nexport default Nav;\r\n","import Nav from './Nav';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) =>{\r\n  return{\r\n  id : state.Auth.id\r\n  }\r\n}\r\n\r\nexport default connect (mapStateToProps,{})(Nav)\r\n\r\n","import React from 'react'\r\nimport styles from './FormComponents.module.css'\r\n\r\nexport const Textarea = ({input,meta, ...props}) =>{\r\n    let withError = (meta.touched && meta.error );\r\n    return (<>\r\n        <div className={styles.formT + ' ' + ( withError && styles.withError) } >\r\n            <textarea {...input} {...props} className = {styles.textarea} />\r\n            <button className={styles.button + ' ' + ( withError && styles.withError) } disabled = {withError}> Отправить </button>\r\n            \r\n            \r\n            \r\n        </div>\r\n        {withError && <div className= {styles.error}> {meta.error} </div>}\r\n        </>\r\n    )\r\n   \r\n}  \r\n\r\n\r\nexport const Input = ({input,meta, ...props}) =>{\r\n    let withError = (meta.touched && meta.error);\r\n        return (<>\r\n        <div className={styles.formI} >\r\n            <input {...input} {...props} className={styles.login + ' ' + ( withError && styles.withError)}/>\r\n        </div>\r\n        {withError && <div className= {styles.error}> {meta.error} </div>}\r\n        </>\r\n    )\r\n   \r\n}  ","\r\nexport const required = (value) => {\r\n  \r\n    if(value!==undefined && (value + \" \").trim() !=='') return undefined;\r\n    return \"Empty field\";\r\n }\r\n \r\n export const maxlength = (value) => {\r\n \r\n     if( value && value.length > 50 ) return\"Max length is 50\" ;\r\n     return undefined;\r\n  }\r\n \r\n  export const maxlength16 = (value) => {\r\n \r\n    if(value && value.length >= 16 ) return \"Max length is 16\" ;\r\n    return undefined ;\r\n }\r\n \r\n export const email = (value) =>\r\n   value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)\r\n     ? 'Invalid email address'\r\n     : undefined","import React from 'react'\r\nimport { Field } from 'redux-form';\r\n\r\nexport const FieldCreator = ({type, name, placeholder=\"Write something\", component, validate = []}) =>{\r\n    return(\r\n        <div>\r\n            <Field type={type}\r\n                name={name}\r\n                placeholder={placeholder}\r\n                component={component}\r\n                validate={[...validate]}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Textarea } from './../../../FormControlers/FormComponents';\r\nimport { required, maxlength } from './../../../Validation/validators';\r\nimport { FieldCreator } from './../../../common/FieldCreator';\r\n\r\nconst addForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <FieldCreator name=\"post\"\r\n                component={Textarea}\r\n                type={'textarea'}\r\n                validate={[required, maxlength]}\r\n            />\r\n        </form>\r\n    )\r\n}\r\nconst PostReduxForm = reduxForm({ form: 'post', })(addForm);\r\n\r\nconst Posts = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.addPost(formData.post);\r\n        console.log(formData);\r\n        formData.post = '';\r\n    }\r\n    return (\r\n        <div >\r\n            <PostReduxForm onSubmit={onSubmit} />\r\n            {props.PostElements}\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Posts;","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nconst Post = (props) =>{\r\n    return (\r\n        <div className={styles.post}>\r\n            <div className={styles.title}>\r\n                <div><img src={props.avatar} alt=\"\"/></div>\r\n                <div className={styles.name}> {props.name +\" \" }  </div>\r\n                \r\n            </div>\r\n            <div className={styles.content}>\r\n                <div className={styles.message}>{props.message} </div>\r\n                <div className={styles.like}> <img src=\"https://c7.uihere.com/files/487/556/13/thumb-signal-computer-icons-social-media-clip-art-social-media.jpg\" alt=\"\"/><div className=\"like_count\">{props.like_counter}</div></div>\r\n            </div>\r\n        </div>)\r\n}\r\nexport default Post;","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    withCredentials : true,\r\n    baseURL :'https://social-network.samuraijs.com/api/1.0',\r\n    headers: { \"API-KEY\" : \"8aeede7b-fb00-4b24-b1d1-0f97a5c140ad\" },\r\n})\r\n\r\nexport const UsersApi = {\r\n                // Users\r\n    getUsers(currentPage = 1, pageSize = 5 ) {\r\n        return  instance.get(`/users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response => {\r\n            \r\n            return response.data \r\n        })\r\n    },\r\n}\r\n\r\nexport const FollowApi = {\r\n                    //  UsersContainer\r\n    followApi(id){\r\n        return instance.post(`follow/${id}`)\r\n    },\r\n    unfollowApi(id){\r\n        return  instance.delete(`follow/${id}`)\r\n    },\r\n}\r\n\r\nexport const AuthApi = {\r\n                    // HeaderContainer\r\n    auth(){\r\n        return  instance.get(`/auth/me`)\r\n    },\r\n\r\n    login(email, password, rememberMe){\r\n        return  instance.post(`/auth/login`, {email, password, rememberMe})\r\n    },\r\n\r\n    logout(){\r\n        return  instance.delete(`/auth/login`)\r\n    },\r\n}\r\nexport const ProfileApi = {\r\n        setUserProfile(id){\r\n            return instance.get(`profile/${id}`)\r\n        },\r\n        getUserStatus(id){\r\n            return instance.get(`profile/status/${id}`)\r\n            \r\n        },\r\n        updateStatus(status){\r\n            return instance.put(`profile/status`, {status : status})\r\n        },\r\n        updatePhoto(formData){\r\n            instance.post(`profile/photo`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })      \r\n\r\n        }\r\n}\r\n","import { ProfileApi } from \"../components/api/api\";\r\nimport Userlogo from '../Img/User.jpg'\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USERS_PROFILE = 'SET-USERS-PROFILE';\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\";\r\nconst SET_USER_STATUS= \"SET-USER-STATUS\";\r\n\r\nlet initialState = {\r\n\r\n    ProfileData : null,\r\n\r\n    PostsData : [\r\n        { id: '1', name: 'Franki', message: 'Franki', second__name: 'Alladay', like_counter: '10', avatar: 'https://avatars.mds.yandex.net/get-pdb/989459/fb1ea292-9a7b-4880-878d-dbed2c534716/s1200?webp=false' },\r\n        { id: '2', name: 'Nikolay', message: 'Franki',second__name: 'Puchinin', like_counter: '11', avatar: 'https://koshek.ru/assets/components/gallery/connector.php?action=web/phpthumb&ctx=web&w=1600&h=800&zc=0&far=&q=90&src=%2Fassets%2Fgallery%2F12%2F309.jpg' },\r\n        { id: '3', name: 'Maksim',message: 'Franki', second__name: 'Moiseenko', like_counter: '12', avatar: 'https://pets-expert.ru/wp-content/uploads/2018/09/Манчкин-с-бирюзовыми-глазами.jpg' },\r\n        { id: '4', name: 'Ignat',message: 'Franki', second__name: 'Lesovckiy', like_counter: '13', avatar: 'https://avatars.mds.yandex.net/get-pdb/812271/30f9a828-a9ff-4eed-9b08-f9a7dbbab37c/s1200' },\r\n        { id: '5', name: 'Alexei',message: 'Franki', second__name: 'Michailov', like_counter: '14', avatar: 'https://s1.1zoom.ru/big3/718/422583-blackangel.jpg' },\r\n        { id: '6', name: 'Oleg',message: 'Franki', second__name: 'Radzievskiy', like_counter: '15', avatar: 'https://avatars.mds.yandex.net/get-pdb/51720/15939212-1cf3-4007-8ada-e476aafdbcf2/s1200?webp=false' }\r\n    ],\r\n    FriendsData : [\r\n        { id: '1', name: 'Franki', second__name: 'Alladay', avatar: 'https://avatars.mds.yandex.net/get-pdb/989459/fb1ea292-9a7b-4880-878d-dbed2c534716/s1200?webp=false' },\r\n        { id: '2', name: 'Nikolay', second__name: 'Puchinin', avatar: 'https://koshek.ru/assets/components/gallery/connector.php?action=web/phpthumb&ctx=web&w=1600&h=800&zc=0&far=&q=90&src=%2Fassets%2Fgallery%2F12%2F309.jpg' },\r\n        { id: '3', name: 'Maksim', second__name: 'Moiseenko', avatar: 'https://pets-expert.ru/wp-content/uploads/2018/09/Манчкин-с-бирюзовыми-глазами.jpg' },\r\n        { id: '4', name: 'Ignat', second__name: 'Lesovckiy',  avatar: 'https://avatars.mds.yandex.net/get-pdb/812271/30f9a828-a9ff-4eed-9b08-f9a7dbbab37c/s1200' },\r\n        { id: '5', name: 'Alexei', second__name: 'Michailov', avatar: 'https://s1.1zoom.ru/big3/718/422583-blackangel.jpg' },\r\n        { id: '6', name: 'Oleg', second__name: 'Radzievskiy',  avatar: 'https://avatars.mds.yandex.net/get-pdb/51720/15939212-1cf3-4007-8ada-e476aafdbcf2/s1200?webp=false' },\r\n    ],\r\n    isFetching : true,\r\n    status : null,\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5595,\r\n                name: \"MoMentalochka\" ,\r\n                second__name: null,\r\n                like_counter: 0,\r\n                message: action.text,\r\n                avatar: Userlogo\r\n            };\r\n            return {\r\n                ...state,\r\n                PostsData: [...state.PostsData, { ...newPost }],\r\n            }\r\n        case SET_USERS_PROFILE:\r\n            return {\r\n                ...state,\r\n                ProfileData : {...action.profile},\r\n            }\r\n        case SET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                status : action.status,\r\n            }\r\n        case TOGGLE_IS_FETCHING :\r\n            return{\r\n                ...state,\r\n                isFetching :  action.isFetching\r\n            }\r\n\r\n        default:\r\n            return { ...state };\r\n    }\r\n}\r\n\r\nexport const AddPostActionCreator = (text) => ({ type: ADD_POST, text });\r\nexport const setUserProfile = (profile) => ({ type: SET_USERS_PROFILE, profile });\r\nexport const isFetching = (isFetching) => ({type : TOGGLE_IS_FETCHING, isFetching });\r\nexport const setStatus = (status) => ({ type: SET_USER_STATUS, status }) ;\r\n\r\n//====== Thunks ======\r\nexport const getUsersProfile = (userId) => async (dispatch) =>{\r\n    let response = await ProfileApi.setUserProfile(userId)\r\n        dispatch(setUserProfile(response.data))\r\n\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) =>{\r\n    let response = await ProfileApi.getUserStatus(userId)\r\n        dispatch(setStatus(response.data))\r\n}\r\n\r\n\r\nexport const updateUserStatus = (status) => (dispatch) =>{\r\n    ProfileApi.updateStatus(status).then(() => {\r\n        dispatch(setStatus(status))\r\n    });\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport Posts from './Posts';\r\nimport Post from './Post/Post';\r\nimport {AddPostActionCreator} from '../../../../redux/ProfileReducer';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    \r\n    let PostElements =\r\n        state.profilePage.PostsData.map(p => <Post key={p.id} message={p.message} id={p.id} like_counter={p.like_counter} name={p.name} second__name={p.second__name} avatar={p.avatar} />).reverse()\r\n    return {\r\n        newPostText : state.profilePage.newPostText,\r\n        PostElements: PostElements\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (text) => {\r\n            dispatch(AddPostActionCreator(text));\r\n        },\r\n    }\r\n}\r\n\r\nconst PostsContainer = connect(mapStateToProps,mapDispatchToProps)(Posts);\r\n\r\nexport default PostsContainer;","import React from 'react';\r\nimport styles from './Avatar.module.css';\r\nimport UserPhoto from '../../../../Img/User.jpg' \r\n// import {ProfileApi} from '../../../api/api'\r\n\r\n// let update = () =>{\r\n//     let formData = new FormData();\r\n//     let imagefile = document.querySelector('#photo')\r\n//     formData.append('image',imagefile.files[0]);\r\n//     ProfileApi.updatePhoto(formData)\r\n// }\r\n\r\nconst Avatar = (props) =>{\r\n    return <div className={styles.avatar}>\r\n                   <img src={props.avatar === null ? UserPhoto : props.avatar } alt=\"\"/>\r\n                   {/* <div> <input type=\"file\" id=\"photo\"/> <button onClick={()=>{update()}}>g</button></div> */}\r\n            </div>\r\n            \r\n}\r\nexport default Avatar;","import React from 'react';\r\nimport styles from './Friend.module.css';\r\n\r\nconst Friend = (props) => {\r\n    return (\r\n        <div className={styles.friend}>\r\n            <div className={styles.avatar}><img className = {styles.img} src={props.avatar} alt=\"avatar\" /> </div>\r\n            <div className={styles.name}>{props.name}</div>\r\n        </div>)\r\n}\r\nexport default Friend;","import React from 'react';\r\nimport styles from './Friends.module.css';\r\n\r\nconst Friends = (props) => {\r\n    return(\r\n\r\n    <div className={styles.friends}>\r\n            {props.FriendsElement}\r\n    </div>)\r\n}\r\nexport default Friends;","import React from 'react';\r\nimport Friend from './Friend/Friend';\r\nimport Friends from './Friends';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) =>{\r\n    let FriendsElement = state.profilePage.FriendsData.map(p => <Friend key={p.id} message={p.message} id={p.id} name={p.name} second__name={p.second__name} avatar={p.avatar} />);\r\n    return {\r\n        FriendsElement: FriendsElement\r\n    }     \r\n}\r\nconst FriendsContainer = connect(mapStateToProps)(Friends);\r\n\r\nexport default FriendsContainer;","import React , {useState, useEffect} from 'react'\r\nimport styles from './Info.module.css';\r\nconst StatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    let SetEditMode = (value) => {\r\n        setEditMode(value);\r\n        (!value) && props.updateUserStatus(status)\r\n    }\r\n    \r\n    let onChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div className={styles.status}>\r\n                    <p onDoubleClick={() => SetEditMode(true)}>  {props.status ? props.status : \"Изменить статус\"} </p>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div className={styles.status}>\r\n                    <input autoFocus onChange={onChange} onBlur={() => SetEditMode(false)} value={status}></input>\r\n                </div>\r\n            }\r\n\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default StatusWithHooks","import React from 'react';\r\nimport styles from './Info.module.css';\r\nimport StatusWithHooks from './statusNew';\r\n\r\nconst Info = (props) =>{\r\n   \r\n    return <div className={styles.info}>\r\n        <div className={styles.text}>\r\n            <h3>{props.profilePage.ProfileData.fullName}</h3>\r\n           <StatusWithHooks status = {props.profilePage.status} updateUserStatus = {props.updateUserStatus} />\r\n        </div>\r\n    </div>\r\n\r\n    \r\n}\r\nexport default Info;","import React from 'react';\r\nimport PostsContainer from '../Profile/Posts/PostsContainer';\r\nimport Avatar from './Avatar/Avatar';\r\nimport FriendsContainer from './Friends/FriendsContainer';\r\nimport Info from './Info/Info';\r\nimport styles from './Profile.module.css';\r\n\r\nconst Profile = (props) => {\r\n    \r\n    return <div className={styles.profile}>\r\n                <Avatar avatar={props.profilePage.ProfileData.photos.large} />\r\n                <FriendsContainer/>\r\n                <Info profilePage={props.profilePage}  updateUserStatus = {props.updateUserStatus}/>\r\n                <PostsContainer />  \r\n            </div>\r\n\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport preloader from '../../Img/preloader.svg';\r\nimport styles from './Preloader.module.css';\r\nlet Preloader = () => {\r\n    return  <img className = {styles.img} src = {preloader} alt=\"\"/>;\r\n}\r\nexport default Preloader;","import React from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nlet mapStateToProps = (state) =>{\r\n    return{\r\n        isAuth : state.Auth.auth\r\n    }\r\n}\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n\r\n    class RedirectedComponent extends React.Component{\r\n\r\n        render(){\r\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>;\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let WithAuthRedirectedComponent = connect(mapStateToProps)(RedirectedComponent)\r\n\r\n    return WithAuthRedirectedComponent;\r\n}","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {getUsersProfile, getUserStatus, updateUserStatus} from '../../../redux/ProfileReducer'\r\nimport Preloader from '../../common/Preloader'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { WithAuthRedirect } from './../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        this.props.getUsersProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n    \r\n    render()  {\r\n            return ( this.props.isAuth & !this.props.profilePage.ProfileData ?  <Preloader /> :  <Profile profilePage = {this.props.profilePage} updateUserStatus = {this.props.updateUserStatus} />);\r\n            \r\n    }\r\n    \r\n}\r\n\r\nlet mapStateToProps = (state) =>{\r\n   \r\n    return{\r\n    profilePage : state.profilePage,\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default  compose(\r\n                    connect (mapStateToProps, {getUsersProfile, getUserStatus, updateUserStatus}),\r\n                    withRouter,\r\n                    WithAuthRedirect\r\n                )(ProfileContainer)\r\n","import React from 'react';\r\nimport styles from './News.module.css';\r\n\r\nconst News = () =>{\r\n    return <div className={styles.news}>\r\n    News\r\n    </div>  \r\n}\r\nexport default News;","import React from 'react';\r\nimport styles from './Music.module.css';\r\nimport { WithAuthRedirect } from './../../hoc/WithAuthRedirect';\r\n\r\nconst Music = () =>{\r\n    return <div className={styles.music}>\r\n    Music\r\n    </div>\r\n    \r\n}\r\nexport default WithAuthRedirect(Music);","import React from 'react';\r\nimport styles from './Settings.module.css';\r\nimport { WithAuthRedirect } from './../../hoc/WithAuthRedirect';\r\n\r\nconst Settings = () =>{\r\n    return <div className={styles.settings}>\r\n    Settings\r\n    </div>\r\n    \r\n}\r\nexport default WithAuthRedirect(Settings);","import React from 'react';\r\nimport styles from './DialogsItem.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogsItem = (props) => {\r\n    let path = '/dialogs/'+props.id;\r\n    return (\r\n        <NavLink to={path} activeClassName={styles.active}>\r\n            <div className={styles.dialog_list_item} >\r\n            <div><img className={styles.img} src={props.avatar} alt=\"Avatar\"/></div>\r\n                {props.name} <br/> {props.second__name}\r\n            </div>\r\n        </NavLink>\r\n            )\r\n}\r\nexport default DialogsItem;","import React from 'react';\r\nimport styles from './Message.module.css';\r\n\r\n    const Message = (props) =>{\r\n        return (\r\n            <div className={styles.massages_list_item}>{props.message}</div>\r\n        )\r\n    }\r\n\r\nexport default Message;","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState ={\r\n        \r\n    MessagesData: [\r\n        { id: '1', message: 'First message' },\r\n        { id: '2', message: 'Second massage' },\r\n        { id: '3', message: 'Third message' },\r\n        { id: '4', message: 'Fourth message' },\r\n        { id: '5', message: 'Fifth message' },\r\n    ],\r\n\r\n    usersData : [\r\n        { id: '1', name: 'Franki', second__name: 'Alladay', like_counter: '10', avatar: 'https://avatars.mds.yandex.net/get-pdb/989459/fb1ea292-9a7b-4880-878d-dbed2c534716/s1200?webp=false' },\r\n        { id: '2', name: 'Nikolay', second__name: 'Puchinin', like_counter: '11', avatar: 'https://koshek.ru/assets/components/gallery/connector.php?action=web/phpthumb&ctx=web&w=1600&h=800&zc=0&far=&q=90&src=%2Fassets%2Fgallery%2F12%2F309.jpg' },\r\n        { id: '3', name: 'Maksim', second__name: 'Moiseenko', like_counter: '12', avatar: 'https://pets-expert.ru/wp-content/uploads/2018/09/Манчкин-с-бирюзовыми-глазами.jpg' },\r\n        { id: '4', name: 'Ignat', second__name: 'Lesovckiy', like_counter: '13', avatar: 'https://avatars.mds.yandex.net/get-pdb/812271/30f9a828-a9ff-4eed-9b08-f9a7dbbab37c/s1200' },\r\n        { id: '5', name: 'Alexei', second__name: 'Michailov', like_counter: '14', avatar: 'https://s1.1zoom.ru/big3/718/422583-blackangel.jpg' },\r\n        { id: '6', name: 'Oleg', second__name: 'Radzievskiy', like_counter: '15', avatar: 'https://avatars.mds.yandex.net/get-pdb/51720/15939212-1cf3-4007-8ada-e476aafdbcf2/s1200?webp=false' }\r\n    ],\r\n    newMessageText : \"\",\r\n};\r\nconst dialogReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_MESSAGE:\r\n\r\n            return {\r\n                ...state,\r\n                MessagesData: [...state.MessagesData, { id: 6, message: action.message }],\r\n                newMessageText: action.message,\r\n            }\r\n        default:\r\n            return { ...state }\r\n    };\r\n\r\n};\r\n\r\n\r\n// Обработчики событий Dialogs\r\nexport const AddMessageActionCreator = (message) => ({ type: ADD_MESSAGE, message });\r\n        \r\nexport default dialogReducer;","import React from 'react';\r\nimport styles from './Form.module.css';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { required, maxlength } from './../../../../Validation/validators';\r\nimport { Textarea } from './../../../../FormControlers/FormComponents';\r\n    const addForm = (props) =>{\r\n        return (\r\n                <form onSubmit = {props.handleSubmit}>\r\n                    <Field name = \"message\" \r\n                        component = {Textarea} \r\n                        type = {'textarea'} \r\n                        placeholder = \"Write something\"  \r\n                        validate = {[required,maxlength]}\r\n                    />\r\n                </form>\r\n        )\r\n    }\r\n\r\n    const MessageReduxForm = reduxForm({ form: 'message', })(addForm);\r\n\r\n    \r\n    const Form = (props) => {\r\n        const onSubmit = (formData) =>{\r\n            props.AddMessage(formData.message);\r\n            console.log(formData);\r\n            formData.message = '';\r\n        }\r\n        return <div className={styles.form}>  \r\n            <MessageReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    }\r\nexport default Form;","import React from 'react';\r\nimport {AddMessageActionCreator,} from '../../../../../redux/DialogReducer';\r\nimport Form from './Form';\r\n    const FormContainer = (props) =>{\r\n        \r\n        let AddMessage = (message) =>{\r\n            props.dispatch(AddMessageActionCreator(message));\r\n        };\r\n\r\n        \r\n        return (<Form onSubmit = {AddMessage} newMessageText = {props.newMessageText}  AddMessage = {AddMessage} />)\r\n    \r\n    }\r\n\r\nexport default FormContainer;","import React from 'react';\r\nimport styles from './Dialogs.module.css';\r\nimport FormContainer from './Message/Form/FormContainer';\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    return (\r\n        <div className={styles.dialogs}>\r\n            <div className={styles.dialog_list}>\r\n               { props.DialogsItems }\r\n            </div>\r\n            <div className={styles.massages_list}>\r\n                { props.Messages }\r\n            </div>\r\n            <FormContainer newMessageText = {props.newMessageText}  dispatch = { props.dispatch} />\r\n            \r\n        </div>\r\n    ) \r\n}\r\nexport default Dialogs;\r\n","import React from 'react';\r\nimport DialogsItem from './DialogsItem/DialogsItem';\r\nimport Message from './Message/Message';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { WithAuthRedirect } from './../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nlet mapStateToProps = (state)=>{\r\n    let DialogsItems=\r\n    state.dialogsPage.usersData.map(u => <DialogsItem key={u.id} name={u.name} second__name={u.second__name} id={u.id} avatar={u.avatar}/>);\r\n    let Messages=\r\n    state.dialogsPage.MessagesData.map(m => <Message key={m.id} message={m.message} id={m.id}/>).reverse();\r\n    return {\r\n        DialogsItems : DialogsItems,\r\n        Messages : Messages,\r\n        newMessageText :  state.dialogsPage.newMessageText,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        dispatch : dispatch\r\n    }\r\n}\r\n\r\nexport default  compose(\r\n                    connect(mapStateToProps,mapDispatchToProps),\r\n                    WithAuthRedirect\r\n                )(Dialogs)\r\n","import { UsersApi, FollowApi } from './../components/api/api';\r\n\r\nlet SET_USERS = \"SET-USERS\";\r\nlet UNFOLLOW = \"UNFOLLOW\";\r\nlet FOLLOW = \"FOLLOW\"\r\nlet SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\"\r\nlet SET_TOTAL_COUNT = \"SET-TOTAL-COUNT\"\r\nlet TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\"\r\nlet TOGGLE_IS_FOLLOWING = \"TOGGLE-IS-FOLLOWING\"\r\nlet initialState ={\r\n    usersData : [],\r\n    currentPage : 1,\r\n    totalCount : 0,\r\n    pageSize : 8,\r\n    isFetching : true,\r\n    following : []\r\n};\r\n\r\nconst UsersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case FOLLOW:\r\n           return{\r\n               ...state,\r\n               usersData : state.usersData.map(u => {\r\n                    if (u.id === action.id)\r\n                    {\r\n                        return {...u, followed : true }\r\n                    }\r\n                    return u;  \r\n               }),\r\n                       }\r\n\r\n        case UNFOLLOW:\r\n            return{\r\n                ...state,\r\n                usersData : state.usersData.map(u => {\r\n                     if (u.id === action.id)\r\n                     {\r\n                         return ({...u, followed : false })\r\n                     }\r\n                     return u;\r\n                }),\r\n                \r\n                        }\r\n\r\n        case SET_USERS:\r\n            \r\n            return{\r\n                ...state,\r\n                usersData :  [...action.data ]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            \r\n            return{\r\n                ...state,\r\n                currentPage :  action.currentPage\r\n            }\r\n        case SET_TOTAL_COUNT:\r\n            \r\n            return{\r\n                ...state,\r\n                totalCount :  action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING :\r\n            \r\n            return{\r\n                ...state,\r\n                isFetching :  action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING :\r\n            \r\n            return{\r\n                ...state,\r\n                following : action.following \r\n                ? [...state.following,action.id]\r\n                : state.following.filter(id => id !== action.id)\r\n            }\r\n\r\n        default:\r\n            return{...state,\r\n                \r\n            \r\n            }\r\n    }\r\n};\r\n\r\n//====== Thunks ======\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(isFetching(true));\r\n    let response = await UsersApi.getUsers(currentPage, pageSize)\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalCount(response.totalCount))\r\n    dispatch(setCurrentPage(currentPage))\r\n    dispatch(isFetching(false))\r\n}\r\n\r\nexport const followThunk = (id) => async (dispatch) => {\r\n    dispatch(followingInProgress(true, id));\r\n\r\n    let response = await FollowApi.followApi(id)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(follow(id));\r\n    }\r\n    dispatch(followingInProgress(false, id))\r\n}\r\n\r\n\r\nexport const unfollowThunk = (id) => async (dispatch) => {\r\n    dispatch(followingInProgress(true, id));\r\n\r\n    let response = await FollowApi.unfollowApi(id)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(unfollow(id));\r\n    }\r\n    dispatch(followingInProgress(false, id))\r\n}\r\n\r\n\r\nexport const follow = (UserId) => ({type : FOLLOW, id : UserId})\r\nexport const unfollow = (UserId) => ({type : UNFOLLOW, id : UserId})\r\nexport const setUsers = (Users) => ({type : SET_USERS, data : Users })\r\nexport const setCurrentPage = (currentPage) => ({type : SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalCount = (totalCount) => ({type : SET_TOTAL_COUNT, totalCount })\r\nexport const isFetching = (isFetching) => ({type : TOGGLE_IS_FETCHING, isFetching })\r\nexport const followingInProgress = (following , id) => ({type : TOGGLE_IS_FOLLOWING, following, id })\r\nexport default UsersReducer; ","import React from 'react';\r\nimport styles from './User.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\nlet User = (props) => {\r\n\r\n\r\n  \r\n    let t = (props.followed !== true) ? 'Follow' : 'Unfollow';\r\n    let a = (props.followed === true) ? () => {props.unfollowThunk(props.id, props.name)} : () => {props.followThunk(props.id, props.name)};\r\n    let bstyle = (props.followed !== true) ? styles.follow : styles.unfollow;\r\n\r\n    return (\r\n        <div className={styles.user}>\r\n            <NavLink to={`/profile/${props.id}`}>\r\n                <div className={styles.avatar}><img src={props.avatar} alt=\"\" /></div>\r\n            </NavLink>\r\n            <div className={styles.name}>{props.name} <br /> {props.second__name}</div>\r\n            \r\n            <button disabled = {props.following.some(id => id === props.id)} onClick={a} className={bstyle}> {t}</button>\r\n        </div>\r\n    )\r\n}\r\nexport default User;\r\n\r\n","import React, { useEffect } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport { useState } from 'react';\r\n\r\n\r\n export let Pagination = (props) =>{\r\n\r\n//========= Определяем Local State =========\r\n    let [blokNumber, setBlokNumber] = useState(1);\r\n\r\n//========= Определяем текущий блок в завизимости от номера страницы =========\r\n    useEffect(() => {\r\n        setBlokNumber(Math.ceil(props.currentPage / blokSize))\r\n    }, [props.currentPage])\r\n\r\n    let PagesCount = Math.ceil(props.totalCount / props.pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= PagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n//====== Параметры (размер, границы, создаём текущий блок страниц) ============\r\n    let blokSize = props.blokSize || 10;\r\n    let leftbar = (blokNumber - 1) * blokSize + 1;\r\n    let rightbar = (blokNumber) * blokSize;\r\n    let Paginator =\r\n        pages.filter(p => p >= leftbar && p <= rightbar).map(p => { return <span className={props.currentPage === p ? styles.activePage : styles.Page} onClick={() => props.setCurrentPage(p)}> {p} </span> })\r\n//====== возвращием готовый JSX ============\r\n        return (\r\n            <div>\r\n                {blokNumber > 1 && <button className={styles.btn} onClick={() => { setBlokNumber(blokNumber - 1); props.setCurrentPage(leftbar - 1) }}>Назад</button>}\r\n                {Paginator}\r\n                {blokNumber < Math.ceil(pages.length / blokSize) && <button className={styles.btn} onClick={() => { setBlokNumber(blokNumber + 1); props.setCurrentPage(leftbar + blokSize) }}>Вперёд</button>}\r\n            </div>\r\n        )\r\n}\r\nexport default Pagination;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport User from './User/User';\r\nimport UserPhoto from '../../../Img/User.jpg'   \r\nimport { Pagination } from './../../common/Paginator/Paginator';\r\n\r\nlet Users = (props) => {\r\n    let Users =\r\n        props.usersData.map(u => <User key={u.id} name={u.name} second__name={u.second__name} id={u.id} avatar={u.photos.small != null ? u.photos.small : UserPhoto} following={props.following} followed={u.followed} follow={props.follow} unfollow={props.unfollow} followingInProgress={props.followingInProgress} unfollowThunk={props.unfollowThunk} followThunk={props.followThunk} />)\r\n\r\n    return (\r\n\r\n        <div className={styles.users}>\r\n            {Users}\r\n            <Pagination {...props} />\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Users;","import { connect } from 'react-redux';\r\nimport React from 'react';\r\nimport { setCurrentPage, follow, unfollow, followingInProgress, getUsers,unfollowThunk, followThunk } from '../../../redux/UsersReducer';\r\nimport Users from './Users'\r\nimport Preloader from '../../common/Preloader';\r\nimport { WithAuthRedirect } from './../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\nclass UsersContainer extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    setCurrentPage = (p) => {\r\n        this.props.getUsers(p, this.props.pageSize)\r\n        // this.props.isFetching(true)\r\n        // this.props.setCurrentPage(p)\r\n        // UsersApi.getUsers(p ,this.props.pageSize)\r\n        // .then(response => {\r\n        //     this.props.setUsers(response.items)\r\n        //     this.props.isFetching(false)\r\n        // });\r\n    }\r\n    \r\n    render(){ return <> \r\n        {this.props.isFetch ? <Preloader/> :  <Users {...this.props} setCurrentPage = {this.setCurrentPage}  />}\r\n        </>\r\n    }\r\n}\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        usersData : state.usersPage.usersData,\r\n        currentPage : state.usersPage.currentPage,\r\n        totalCount : state.usersPage.totalCount,\r\n        pageSize : state.usersPage.pageSize,\r\n        isFetch : state.usersPage.isFetching,\r\n        following : state.usersPage.following,\r\n        isAuth : state.Auth.auth,\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default  compose(\r\n                    connect (mapStateToProps,{ setCurrentPage,  follow, unfollow, followingInProgress, getUsers, unfollowThunk, followThunk }),\r\n                    WithAuthRedirect\r\n                )(UsersContainer)","import { AuthApi } from './../components/api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst Log_in = 'Log-in';\r\nconst Log_out = 'Log-out';\r\n\r\nlet initialState ={\r\n    id : null,\r\n    email : null,\r\n    login : null,\r\n    auth : false,\r\n};\r\n\r\nconst AuthReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case Log_in:\r\n            \r\n            return {\r\n                ...state,\r\n                ...action.data.data,\r\n                ...state.auth = (action.data.resultCode === 0) ? true : false\r\n            }\r\n        case Log_out:\r\n            \r\n            return {\r\n                \r\n                ...state.id = null,\r\n                ...state.email = null,\r\n                ...state.login = null,\r\n                ...state.auth = false,\r\n            }\r\n        default:\r\n            return { ...state }\r\n    };\r\n\r\n};\r\n\r\n//====== Thunks ======\r\nexport const AuthThunk = () => async (dispatch)=>{\r\n        let response = await AuthApi.auth()\r\n            let data = {...response.data};\r\n            dispatch(Auth(data));\r\n        return 'yo'; \r\n}\r\nexport const LoginThunk = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await AuthApi.login(email, password, rememberMe)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(AuthThunk())\r\n    }\r\n    else {\r\n        dispatch(stopSubmit(\"login\", { _error: response.data.messages.pop() }))\r\n    }\r\n}\r\nexport const LogoutThunk = () => async (dispatch) => {\r\n    let response = await AuthApi.logout()\r\n    dispatch(Logout())\r\n}\r\n\r\nexport const Auth = (data) => ({ type: Log_in, data});\r\nexport const Logout = () => ({ type: Log_out,});\r\n        \r\nexport default AuthReducer;","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst Header = (props) => { \r\n\r\n    \r\n    return <header className={styles.header}>\r\n                <div className={styles.header__logo}> <div className = {styles.header__logo_img} ><img src=\"https://c7.uihere.com/icons/273/349/195/brand-brands-chrome-logo-logos-icon-c60121d44f11d9f6e6b3f0f5730fc9cf.png\" alt=\"\"/></div>Social-Demo</div>\r\n                \r\n                <div className={styles.header_login}> {props.Auth.login===null \r\n                ? <Redirect to='login'/> \r\n                : <div className = {styles.header_form}>  \r\n                    <div className={styles.login}>{props.Auth.login} { (props.Auth.login && props.profilePage.ProfileData) && <img src={props.profilePage.ProfileData.photos.large} alt=\"ph\" className={styles.photo}/>}</div> \r\n                    {props.Auth.login && <button className = {styles.button} onClick={()=>{props.LogoutThunk()}}> Logout</button>}\r\n                 </div> } \r\n                 </div>\r\n                \r\n            </header>\r\n}\r\nexport default Header;\r\n","import React from 'react';\r\nimport { AuthThunk, LogoutThunk } from '../../redux/AuthReducer'\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n   \r\n    componentDidMount() {\r\n        this.props.AuthThunk()\r\n    }\r\n    render() {\r\n        return <Header {...this.props.state}  LogoutThunk={this.props.LogoutThunk}  />\r\n    }\r\n}\r\nlet mapStateToProps = (state) =>{\r\n    return{\r\n        state : {...state}\r\n        \r\n    }\r\n}\r\nexport default connect (mapStateToProps, {AuthThunk,LogoutThunk } )(withRouter(HeaderContainer))\r\n","import React from 'react'\r\nimport { reduxForm, Field } from 'redux-form'\r\nimport styles from './Login.module.css'\r\nimport { Input } from '../FormControlers/FormComponents'\r\nimport { required, maxlength16, maxlength, email } from '../Validation/validators';\r\nimport { connect } from 'react-redux';\r\nimport { LoginThunk} from '../../redux/AuthReducer'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { FieldCreator } from '../common/FieldCreator';\r\n\r\n\r\nconst LoginForm = (props) =>{\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <FieldCreator type={\"login\"}\r\n                name={'email'}\r\n                placeholder=\"login\"\r\n                component={Input}\r\n                validate={[required, maxlength, email]}\r\n            />\r\n            <FieldCreator type={\"password\"}\r\n                name={'password'} \r\n                placeholder=\"Password\"\r\n                component={Input}\r\n                validate={[required, maxlength16]}\r\n            />\r\n\r\n        \r\n            {props.error && <div className={styles.error}>{props.error} </div>}\r\n\r\n            <div>\r\n                <FieldCreator type={\"checkbox\"}\r\n                    name={'rememberMe'}\r\n                    component={'input'} />\r\n                <span>remember me</span>\r\n                />\r\n            </div>\r\n\r\n                <button className={styles.button}>Login</button>\r\n\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login', })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) =>{\r\n        props.LoginThunk(formData.email,formData.password,formData.rememberMe)\r\n        formData.login = '';\r\n        formData.password = '';\r\n        formData.rememberMe = false;  \r\n        \r\n    }\r\n\r\n    if(!props.state.auth) return (\r\n       \r\n        <div className={styles.loginPage}>\r\n            <div className={styles.form}>\r\n                <h1> Авторизация </h1>\r\n                <LoginReduxForm onSubmit={onSubmit}/>\r\n                <p> Тестовые данные: <br/> Login: free@samuraijs.com <br/> Password: free</p>\r\n            </div>  \r\n            \r\n        </div>\r\n    )\r\n    return <Redirect to = {`/profile/${props.state.id}`}/>\r\n}\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return{\r\n        state : state.Auth\r\n    }\r\n}\r\nexport default connect (mapStateToProps,{LoginThunk })(Login);","import { AuthThunk } from './AuthReducer';\r\n\r\nconst Init = 'Init';\r\n\r\nlet initialState ={\r\n    initial : false,\r\n \r\n};\r\nconst AppReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case Init:\r\n            return {\r\n                \r\n                ...state,\r\n                initial : true\r\n            }\r\n\r\n        default:\r\n            return { ...state }\r\n    };\r\n\r\n};\r\n\r\nexport const InitThunk = () => {\r\n    return (dispatch) => {\r\n       let promise = dispatch(AuthThunk())\r\n        promise && dispatch(initialize())\r\n    };\r\n}\r\n\r\nexport const initialize = () => ({ type: Init});\r\n        \r\nexport default AppReducer;","import React from 'react';\r\nimport './App.css';\r\nimport NavContainer from './components/Nav/NavContainer';\r\nimport ProfileContainer from './components/Main/Profile/ProfileContainer';\r\nimport News from './components/Main/News/News';\r\nimport Music from './components/Main/Music/Music';\r\nimport Settings from './components/Main/Settings/Settings';\r\nimport { Route } from 'react-router-dom';\r\nimport DialogsContainer from './components/Main/Dialogs/DialogsContainer';\r\nimport UsersContainer from './components/Main/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\nimport { InitThunk } from './redux/AppReducer';\r\nimport Preloader from './components/common/Preloader';\r\nimport { connect } from 'react-redux';\r\n\r\nclass App extends React.Component{\r\n  componentDidMount(){\r\n    this.props.InitThunk()\r\n  }\r\n  render() {\r\n    if(!this.props.initial){\r\n      return <Preloader/>\r\n    }\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <div className=\"container\">\r\n          <HeaderContainer />\r\n          <NavContainer />\r\n          <div className='app-wrapper-content'>\r\n            <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n            <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n            <Route path='/users' render={() => <UsersContainer />} />\r\n            <Route path='/news' component={News} />\r\n            <Route path='/music' component={Music} />\r\n            <Route path='/settings' component={Settings} />\r\n            <Route path='/login' render={() => <Login />} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) =>{\r\n  return{\r\n    initial : state.App.initial,\r\n  }\r\n}\r\nexport default connect(mapStateToProps,{InitThunk})(App);\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport profileReducer from \"./ProfileReducer\";\r\nimport dialogReducer from './DialogReducer';\r\nimport UsersReducer from \"./UsersReducer\";\r\nimport AuthReducer from \"./AuthReducer\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport AppReducer from './AppReducer';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogsPage : dialogReducer,\r\n    usersPage : UsersReducer,\r\n    Auth : AuthReducer,\r\n    form : formReducer,\r\n    App : AppReducer,\r\n})\r\nlet store = createStore(reducers,applyMiddleware(thunk));\r\n\r\nwindow.store = store\r\n\r\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport store from './redux/redux-store'\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\n  ReactDOM.render(\r\n            <BrowserRouter basename = {process.env.PUBLIC_URL}>\r\n                <Provider store = { store }>\r\n                    <App/>\r\n                </Provider>\r\n            </BrowserRouter>, document.getElementById('root'));\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2ZUZ6\",\"title\":\"Post_title__a3sue\",\"like\":\"Post_like__2lSKn\",\"name\":\"Post_name__yOVCW\",\"content\":\"Post_content__34v1E\",\"message\":\"Post_message__LWbA_\"};","module.exports = __webpack_public_path__ + \"static/media/User.a1107919.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"Info_info__2bgsw\",\"text\":\"Info_text__2-TMd\",\"status\":\"Info_status__2yUFp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3YUoV\",\"name\":\"User_name__2eT1d\",\"avatar\":\"User_avatar__2f3vY\",\"follow\":\"User_follow__33jnG\",\"unfollow\":\"User_unfollow__31OxE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__1vXYD\",\"name\":\"Friend_name__27kj7\",\"avatar\":\"Friend_avatar__1Fz9a\",\"img\":\"Friend_img__FO0jK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activePage\":\"Paginator_activePage__3TXMa\",\"Page\":\"Paginator_Page__33NX3\",\"btn\":\"Paginator_btn__1S6gw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"Login_loginPage__-u2lB\",\"form\":\"Login_form__SVzTD\",\"button\":\"Login_button__EFxg_\",\"error\":\"Login_error__1JU1M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog_list\":\"DialogsItem_dialog_list__3jk2p\",\"dialog_list_item\":\"DialogsItem_dialog_list_item__zD8_a\",\"active\":\"DialogsItem_active__3I8qO\",\"img\":\"DialogsItem_img__1SDbL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1fd7u\",\"massages_list\":\"Dialogs_massages_list__1qlZ-\"};"],"sourceRoot":""}