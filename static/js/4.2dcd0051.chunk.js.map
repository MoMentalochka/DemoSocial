{"version":3,"sources":["components/Main/Users/Users.module.css","components/Main/Users/User/User.module.css","components/common/Paginator/Paginator.module.css","components/Main/Users/User/User.jsx","components/common/Paginator/Paginator.js","components/Main/Users/Users.jsx","components/Main/Users/UsersContainer.jsx"],"names":["module","exports","User","props","t","followed","a","unfollowThunk","id","name","followThunk","bstyle","styles","follow","unfollow","className","user","to","avatar","src","alt","second__name","disabled","following","some","onClick","Pagination","useState","blokNumber","setBlokNumber","PagesCount","Math","ceil","totalCount","pageSize","pages","i","push","blokSize","leftbar","rightbar","Paginator","filter","p","map","key","currentPage","activePage","Page","setCurrentPage","useEffect","btn","length","Users","usersData","u","photos","small","UserPhoto","followingInProgress","users","UsersContainer","getUsers","this","isFetch","Preloader","React","Component","compose","connect","state","usersPage","isFetching","isAuth","Auth","auth","WithAuthRedirect"],"mappings":"qGACAA,EAAOC,QAAU,CAAC,MAAQ,uB,oBCA1BD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,mBAAmB,OAAS,qBAAqB,OAAS,qBAAqB,SAAW,yB,oBCA7ID,EAAOC,QAAU,CAAC,WAAa,8BAA8B,KAAO,wBAAwB,IAAM,yB,gKCqBnFC,EAnBJ,SAACC,GAIR,IAAIC,GAAwB,IAAnBD,EAAME,SAAqB,SAAW,WAC3CC,GAAwB,IAAnBH,EAAME,SAAqB,WAAOF,EAAMI,cAAcJ,EAAMK,GAAIL,EAAMM,OAAS,WAAON,EAAMO,YAAYP,EAAMK,GAAIL,EAAMM,OAC7HE,GAA6B,IAAnBR,EAAME,SAAqBO,IAAOC,OAASD,IAAOE,SAEhE,OACI,yBAAKC,UAAWH,IAAOI,MACnB,kBAAC,IAAD,CAASC,GAAE,mBAAcd,EAAMK,KAC3B,yBAAKO,UAAWH,IAAOM,QAAQ,yBAAKC,IAAKhB,EAAMe,OAAQE,IAAI,OAE/D,yBAAKL,UAAWH,IAAOH,MAAON,EAAMM,KAApC,IAA0C,6BAA1C,IAAkDN,EAAMkB,cAExD,4BAAQC,SAAYnB,EAAMoB,UAAUC,MAAK,SAAAhB,GAAE,OAAIA,IAAOL,EAAMK,MAAKiB,QAASnB,EAAGS,UAAWJ,GAAxF,IAAkGP,K,2CCblGsB,EAAa,SAACvB,GAUtB,IAV+B,MAGGwB,mBAAS,GAHZ,mBAG1BC,EAH0B,KAGdC,EAHc,KAO3BC,EAAaC,KAAKC,KAAK7B,EAAM8B,WAAa9B,EAAM+B,UAChDC,EAAQ,GAEHC,EAAI,EAAGA,GAAKN,EAAYM,IAC7BD,EAAME,KAAKD,GAIf,IAAIE,EAAWnC,EAAMmC,UAAY,GAC7BC,GAAWX,EAAa,GAAKU,EAAW,EACxCE,EAAYZ,EAAcU,EAC1BG,EACAN,EAAMO,QAAO,SAAAC,GAAC,OAAIA,GAAKJ,GAAWI,GAAKH,KAAUI,KAAI,SAAAD,GAAO,OAAO,0BAAME,IAAKF,EAAG5B,UAAWZ,EAAM2C,cAAgBH,EAAI/B,IAAOmC,WAAanC,IAAOoC,KAAMvB,QAAS,kBAAMtB,EAAM8C,eAAeN,KAAxH,IAA8HA,EAA9H,QAOnE,OALAO,qBAAU,WACNrB,EAAcE,KAAKC,KAAK7B,EAAM2C,YAAcR,MAC7C,CAACnC,EAAM2C,YAAaR,IAInB,6BACKV,EAAa,GAAK,4BAAQb,UAAWH,IAAOuC,IAAK1B,QAAS,WAAQI,EAAcD,EAAa,GAAIzB,EAAM8C,eAAeV,EAAU,KAA9G,kCAClBE,EACAb,EAAaG,KAAKC,KAAKG,EAAMiB,OAASd,IAAa,4BAAQvB,UAAWH,IAAOuC,IAAK1B,QAAS,WAAQI,EAAcD,EAAa,GAAIzB,EAAM8C,eAAeV,EAAUD,KAA9G,0CChBrDe,EAbH,SAAClD,GACT,IAAIkD,EACAlD,EAAMmD,UAAUV,KAAI,SAAAW,GAAC,OAAI,kBAAC,EAAD,CAAMV,IAAKU,EAAE/C,GAAIC,KAAM8C,EAAE9C,KAAMY,aAAckC,EAAElC,aAAcb,GAAI+C,EAAE/C,GAAIU,OAA0B,MAAlBqC,EAAEC,OAAOC,MAAgBF,EAAEC,OAAOC,MAAQC,IAAWnC,UAAWpB,EAAMoB,UAAWlB,SAAUkD,EAAElD,SAAUQ,OAAQV,EAAMU,OAAQC,SAAUX,EAAMW,SAAU6C,oBAAqBxD,EAAMwD,oBAAqBpD,cAAeJ,EAAMI,cAAeG,YAAaP,EAAMO,iBAE1W,OAEI,yBAAKK,UAAWH,IAAOgD,OAClBP,EACD,kBAAC,EAAelD,K,uBCPtB0D,E,2MAMFZ,eAAiB,SAACN,GACd,EAAKxC,MAAM2D,SAASnB,EAAG,EAAKxC,MAAM+B,W,mFAJlC6B,KAAK5D,MAAM2D,SAASC,KAAK5D,MAAM2C,YAAaiB,KAAK5D,MAAM+B,Y,+BAcjD,OAAO,oCACZ6B,KAAK5D,MAAM6D,QAAU,kBAACC,EAAA,EAAD,MAAgB,kBAAC,EAAD,iBAAWF,KAAK5D,MAAhB,CAAuB8C,eAAkBc,KAAKd,uB,GAlB/DiB,IAAMC,WAoCnBC,4BACIC,aAfE,SAACC,GACnB,MAAO,CACHhB,UAAYgB,EAAMC,UAAUjB,UAC5BR,YAAcwB,EAAMC,UAAUzB,YAC9Bb,WAAaqC,EAAMC,UAAUtC,WAC7BC,SAAWoC,EAAMC,UAAUrC,SAC3B8B,QAAUM,EAAMC,UAAUC,WAC1BjD,UAAY+C,EAAMC,UAAUhD,UAC5BkD,OAASH,EAAMI,KAAKC,QAOiB,CAAE1B,mBAAiBpC,WAAQC,aAAU6C,wBAAqBG,aAAUvD,kBAAeG,kBAC5GkE,IAFJR,CAGEP","file":"static/js/4.2dcd0051.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__34v6w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3YUoV\",\"name\":\"User_name__2eT1d\",\"avatar\":\"User_avatar__2f3vY\",\"follow\":\"User_follow__33jnG\",\"unfollow\":\"User_unfollow__31OxE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activePage\":\"Paginator_activePage__3TXMa\",\"Page\":\"Paginator_Page__33NX3\",\"btn\":\"Paginator_btn__1S6gw\"};","import React from 'react';\r\nimport styles from './User.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\nlet User = (props) => {\r\n\r\n\r\n  \r\n    let t = (props.followed !== true) ? 'Follow' : 'Unfollow';\r\n    let a = (props.followed === true) ? () => {props.unfollowThunk(props.id, props.name)} : () => {props.followThunk(props.id, props.name)};\r\n    let bstyle = (props.followed !== true) ? styles.follow : styles.unfollow;\r\n\r\n    return (\r\n        <div className={styles.user}>\r\n            <NavLink to={`/profile/${props.id}`}>\r\n                <div className={styles.avatar}><img src={props.avatar} alt=\"\" /></div>\r\n            </NavLink>\r\n            <div className={styles.name}>{props.name} <br /> {props.second__name}</div>\r\n            \r\n            <button disabled = {props.following.some(id => id === props.id)} onClick={a} className={bstyle}> {t}</button>\r\n        </div>\r\n    )\r\n}\r\nexport default User;\r\n\r\n","import React, { useEffect } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport { useState } from 'react';\r\n\r\n\r\n export let Pagination = (props) =>{\r\n\r\n//========= Определяем Local State =========\r\n    let [blokNumber, setBlokNumber] = useState(1);\r\n\r\n//========= Определяем текущий блок в завизимости от номера страницы =========\r\n\r\n    let PagesCount = Math.ceil(props.totalCount / props.pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= PagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n//====== Параметры (размер, границы, создаём текущий блок страниц) ============\r\n    let blokSize = props.blokSize || 10;\r\n    let leftbar = (blokNumber - 1) * blokSize + 1;\r\n    let rightbar = (blokNumber) * blokSize;\r\n    let Paginator =\r\n        pages.filter(p => p >= leftbar && p <= rightbar).map(p => { return <span key={p} className={props.currentPage === p ? styles.activePage : styles.Page} onClick={() => props.setCurrentPage(p)}> {p} </span> })\r\n\r\n        useEffect(() => {\r\n            setBlokNumber(Math.ceil(props.currentPage / blokSize))\r\n        }, [props.currentPage, blokSize])\r\n\r\n        //====== возвращием готовый JSX ============\r\n        return (\r\n            <div>\r\n                {blokNumber > 1 && <button className={styles.btn} onClick={() => { setBlokNumber(blokNumber - 1); props.setCurrentPage(leftbar - 1) }}>Назад</button>}\r\n                {Paginator}\r\n                {blokNumber < Math.ceil(pages.length / blokSize) && <button className={styles.btn} onClick={() => { setBlokNumber(blokNumber + 1); props.setCurrentPage(leftbar + blokSize) }}>Вперёд</button>}\r\n            </div>\r\n        )\r\n}\r\nexport default Pagination;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport User from './User/User';\r\nimport UserPhoto from '../../../Img/User.jpg'   \r\nimport { Pagination } from './../../common/Paginator/Paginator';\r\n\r\nlet Users = (props) => {\r\n    let Users =\r\n        props.usersData.map(u => <User key={u.id} name={u.name} second__name={u.second__name} id={u.id} avatar={u.photos.small != null ? u.photos.small : UserPhoto} following={props.following} followed={u.followed} follow={props.follow} unfollow={props.unfollow} followingInProgress={props.followingInProgress} unfollowThunk={props.unfollowThunk} followThunk={props.followThunk} />)\r\n\r\n    return (\r\n\r\n        <div className={styles.users}>\r\n            {Users}\r\n            <Pagination {...props} />\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Users;","import { connect } from 'react-redux';\r\nimport React from 'react';\r\nimport { setCurrentPage, follow, unfollow, followingInProgress, getUsers,unfollowThunk, followThunk } from '../../../redux/UsersReducer';\r\nimport Users from './Users'\r\nimport Preloader from '../../common/Preloader';\r\nimport { WithAuthRedirect } from './../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\nclass UsersContainer extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    setCurrentPage = (p) => {\r\n        this.props.getUsers(p, this.props.pageSize)\r\n        // this.props.isFetching(true)\r\n        // this.props.setCurrentPage(p)\r\n        // UsersApi.getUsers(p ,this.props.pageSize)\r\n        // .then(response => {\r\n        //     this.props.setUsers(response.items)\r\n        //     this.props.isFetching(false)\r\n        // });\r\n    }\r\n    \r\n    render(){ return <> \r\n        {this.props.isFetch ? <Preloader/> :  <Users {...this.props} setCurrentPage = {this.setCurrentPage}  />}\r\n        </>\r\n    }\r\n}\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        usersData : state.usersPage.usersData,\r\n        currentPage : state.usersPage.currentPage,\r\n        totalCount : state.usersPage.totalCount,\r\n        pageSize : state.usersPage.pageSize,\r\n        isFetch : state.usersPage.isFetching,\r\n        following : state.usersPage.following,\r\n        isAuth : state.Auth.auth,\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default  compose(\r\n                    connect (mapStateToProps,{ setCurrentPage,  follow, unfollow, followingInProgress, getUsers, unfollowThunk, followThunk }),\r\n                    WithAuthRedirect\r\n                )(UsersContainer)"],"sourceRoot":""}